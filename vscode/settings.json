{
  // 主题
  "workbench.colorTheme": "Dracula",
  // 图标主题
  "workbench.iconTheme": "material-icon-theme",
  "material-icon-theme.showWelcomeMessage": false,
  // 缩进长度
  "editor.tabSize": 2,
  // 字体
  "editor.fontFamily": "'CaskaydiaCove NF', Consolas, 'Courier New', monospace",
  // Auto Rename Tag 的官方替代品
  "editor.linkedEditing": true,
  // 代码滚动吸附
  "editor.stickyScroll.enabled": true,
  // Auto Close Tag 内置了 不需要手动开启
  // 彩虹括号 默认开启
  "editor.bracketPairColorization.enabled": true,
  // 显示代码层级 能看到当前代码块是在那一段
  "editor.guides.bracketPairs": true,
  // 平滑滚动
  "editor.smoothScrolling": true,
  // 光标平滑移动
  "editor.cursorSmoothCaretAnimation": true,
  // 开启连字符显示
  "editor.fontLigatures": true,
  // 删除文件不再询问
  "explorer.confirmDelete": false,
  // 移动文件不询问
  "explorer.confirmDragAndDrop": false,
  // 不折叠单一文件夹
  "explorer.compactFolders": false,
  // 行尾序列使用 lf
  "files.eol": "\n",
  // 终端配置
  "terminal.integrated.profiles.windows": {
    "PowerShell": {
      "source": "PowerShell",
      "icon": "terminal-powershell"
    },
    "Command Prompt": {
      "path": [
        "${env:windir}\\Sysnative\\cmd.exe",
        "${env:windir}\\System32\\cmd.exe"
      ],
      "args": [],
      "icon": "terminal-cmd"
    },
    "Git Bash": {
      "source": "Git Bash"
    },
    "Ubuntu-20.04 (WSL)": {
      "path": "C:\\WINDOWS\\System32\\wsl.exe",
      "args": ["-d", "Ubuntu-20.04"]
    }
  },
  // 默认终端使用 PowerShell
  "terminal.integrated.defaultProfile.windows": "PowerShell",

  // ====================== volar 配置 ======================
  // ref 自动添加 .value
  "volar.autoCompleteRefs": true,

  // ====================== 语言配置 ======================
  "javascript.suggest.completeJSDocs": true,
  "[html]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[css]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[scss]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[less]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[jsonc]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[vue]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[javascriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[markdown]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },

  // ====================== vim 配置 ======================
  // 修改 <leader> 为空格
  "vim.leader": "<Space>",
  // 使用系统剪贴板
  "vim.useSystemClipboard": true,
  // 关闭搜索结果高亮
  "vim.hlsearch": false,
  // 快速跳转 双 <leader> 触发
  "vim.easymotion": true,

  // ------------------ 按键映射 ------------------

  // NORMAL 模式下的按键映射
  "vim.normalModeKeyBindingsNonRecursive": [
    // <S-h> 移动到行首
    {
      "before": ["<S-h>"],
      "after": ["^"]
    },
    // <S-l> 移动到行尾
    {
      "before": ["<S-l>"],
      "after": ["$"]
    },
    // <leader>e 打开文件管理器
    {
      "before": ["<leader>", "e"],
      "commands": ["workbench.view.explorer"]
    },
    // <leader>o 打开大纲视图
    {
      "before": ["<leader>", "o"],
      "commands": ["outline.focus"]
    },
    // <leader>rn 重命名变量
    {
      "before": ["<leader>", "r", "n"],
      "commands": ["editor.action.rename"]
    },
    // 垂直方向移动时始终保持光标在中央
    {
      "before": ["j"],
      "after": ["j", "z", "z"]
    },
    {
      "before": ["k"],
      "after": ["k", "z", "z"]
    },
    {
      "before": ["<C-d>"],
      "after": ["<C-d>", "z", "z"]
    },
    {
      "before": ["<C-u>"],
      "after": ["<C-u>", "z", "z"]
    },
    {
      "before": ["<C-f>"],
      "after": ["<C-f>", "z", "z"]
    },
    {
      "before": ["<C-b>"],
      "after": ["<C-b>", "z", "z"]
    },
    // <leader>f 格式化代码
    {
      "before": ["<leader>", "f"],
      "commands": ["editor.action.formatDocument"]
    },
    // <leader>gi 格式化 import 顺序
    {
      "before": ["<leader>", "g", "i"],
      "commands": ["editor.action.organizeImports"]
    },
    // <C-w><C-w> 关闭窗口
    {
      "before": ["<C-w>", "<C-w>"],
      "after": ["<C-w>", "c"]
    },
    // <leader>p 显示面板
    {
      "before": ["<leader>", "p"],
      "commands": ["workbench.action.togglePanel"]
    },
    // gh 鼠标悬浮
    {
      "before": ["g", "h"],
      "commands": ["editor.action.showHover"]
    },
    // gd 跳转变量定义
    {
      "before": ["g", "d"],
      "commands": ["editor.action.revealDefinition"]
    },
    // gr 查看引用
    {
      "before": ["g", "r"],
      "commands": ["editor.action.referenceSearch.trigger"]
    },
    // gR 查看引用 -- 在底部面板显示
    {
      "before": ["g", "R"],
      "commands": ["references-view.findReferences"]
    },
    // <A-h> 切换到左标签页
    {
      "before": ["<A-h>"],
      "after": ["g", "T"]
    },
    // <A-l> 切换到右标签页
    {
      "before": ["<A-l>"],
      "after": ["g", "t"]
    },
    // <leader>lso -- live server open
    {
      "before": ["<leader>", "l", "s", "o"],
      "commands": ["extension.liveServer.goOnline"]
    },
    // <leader>lss -- live server stop
    {
      "before": ["<leader>", "l", "s", "s"],
      "commands": ["extension.liveServer.goOffline"]
    }
  ],

  // INSERT 模式下的按键映射
  "vim.insertModeKeyBindingsNonRecursive": [
    // jk -> <Esc>
    {
      "before": ["j", "k"],
      "after": ["<Esc>"]
    },
    // <C-h> 左移光标
    {
      "before": ["<C-h>"],
      "after": ["<Esc>", "i"]
    },
    // <C-j> 下移光标
    {
      "before": ["<C-j>"],
      "after": ["<Esc>", "j", "a"]
    },
    // <C-k> 上移光标
    {
      "before": ["<C-k>"],
      "after": ["<Esc>", "k", "a"]
    },
    // <C-l> 右移光标
    {
      "before": ["<C-l>"],
      "after": ["<Esc>", "l", "a"]
    }
  ],

  // VISUAL 模式下的按键映射
  "vim.visualModeKeyBindingsNonRecursive": [
    // 只格式化选中的代码
    {
      "before": ["<leader>", "f"],
      "commands": ["editor.action.formatSelection"]
    },
    // <S-h> 移动到行首
    {
      "before": ["<S-h>"],
      "after": ["^"]
    },
    // <S-l> 移动到行尾
    {
      "before": ["<S-l>"],
      "after": ["$"]
    }
  ],
  "vim.operatorPendingModeKeyBindingsNonRecursive": [
    // <S-h> 移动到行首
    {
      "before": ["<S-h>"],
      "after": ["^"]
    },
    // <S-l> 移动到行尾
    {
      "before": ["<S-l>"],
      "after": ["$"]
    }
  ],

  // live-server 不显示已启动信息
  "liveServer.settings.donotShowInfoMsg": true,

  // prettier 默认配置
  "prettier.semi": false,
  "prettier.singleQuote": true,
  "prettier.trailingComma": "all",

  // JavaScript 和 TypeScript 语言特性配置

  // 自动更新 import
  "javascript.updateImportsOnFileMove.enabled": "always",
  "typescript.updateImportsOnFileMove.enabled": "always",

  // 类型标注
  "javascript.inlayHints.parameterNames.enabled": "all",
  "javascript.inlayHints.parameterTypes.enabled": true,
  "javascript.inlayHints.propertyDeclarationTypes.enabled": true,
  "typescript.inlayHints.parameterNames.enabled": "all",
  "typescript.inlayHints.parameterTypes.enabled": true,
  "typescript.inlayHints.propertyDeclarationTypes.enabled": true,

  // code runner 配置
  "code-runner.runInTerminal": true,
  "code-runner.executorMap": {
    "javascript": "node",
    "java": "cd $dir && javac $fileName && java $fileNameWithoutExt",
    "c": "cd $dir && gcc $fileName -o $fileNameWithoutExt && $dir$fileNameWithoutExt",
    "cpp": "cd $dir && g++ $fileName -o $fileNameWithoutExt && $dir$fileNameWithoutExt",
    "objective-c": "cd $dir && gcc -framework Cocoa $fileName -o $fileNameWithoutExt && $dir$fileNameWithoutExt",
    "php": "php",
    "python": "python -u",
    "perl": "perl",
    "perl6": "perl6",
    "ruby": "ruby",
    "go": "go run",
    "lua": "lua",
    "groovy": "groovy",
    "powershell": "powershell -ExecutionPolicy ByPass -File",
    "bat": "cmd /c",
    "shellscript": "bash",
    "fsharp": "fsi",
    "csharp": "scriptcs",
    "vbscript": "cscript //Nologo",
    "typescript": "esno",
    "coffeescript": "coffee",
    "scala": "scala",
    "swift": "swift",
    "julia": "julia",
    "crystal": "crystal",
    "ocaml": "ocaml",
    "r": "Rscript",
    "applescript": "osascript",
    "clojure": "lein exec",
    "haxe": "haxe --cwd $dirWithoutTrailingSlash --run $fileNameWithoutExt",
    "rust": "cd $dir && rustc $fileName && $dir$fileNameWithoutExt",
    "racket": "racket",
    "scheme": "csi -script",
    "ahk": "autohotkey",
    "autoit": "autoit3",
    "dart": "dart",
    "pascal": "cd $dir && fpc $fileName && $dir$fileNameWithoutExt",
    "d": "cd $dir && dmd $fileName && $dir$fileNameWithoutExt",
    "haskell": "runhaskell",
    "nim": "nim compile --verbosity:0 --hints:off --run",
    "lisp": "sbcl --script",
    "kit": "kitc --run",
    "v": "v run",
    "sass": "sass --style expanded",
    "scss": "scss --style expanded",
    "less": "cd $dir && lessc $fileName $fileNameWithoutExt.css",
    "FortranFreeForm": "cd $dir && gfortran $fileName -o $fileNameWithoutExt && $dir$fileNameWithoutExt",
    "fortran-modern": "cd $dir && gfortran $fileName -o $fileNameWithoutExt && $dir$fileNameWithoutExt",
    "fortran_fixed-form": "cd $dir && gfortran $fileName -o $fileNameWithoutExt && $dir$fileNameWithoutExt",
    "fortran": "cd $dir && gfortran $fileName -o $fileNameWithoutExt && $dir$fileNameWithoutExt",
    "sml": "cd $dir && sml $fileName"
  },

  "remote.SSH.remotePlatform": {
    "Tencent": "linux"
  },

  // 关闭 js 和 ts 默认的路径补全
  "javascript.suggest.paths": false,
  "typescript.suggest.paths": false,

  // npm intellisense
  "npm-intellisense.packageSubfoldersIntellisense": true,
  "npm-intellisense.scanDevDependencies": true,
  "[yaml]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },

  // stylelint: turn off vscode built-in css related validation
  "css.validate": false,
  "less.validate": false,
  "scss.validate": false,
  "stylelint.validate": ["css", "less", "scss"]
}
